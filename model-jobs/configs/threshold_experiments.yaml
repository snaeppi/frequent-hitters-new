# Thresholded classifiers for biochemical/all assays under min screens {20,50}.
global:
  models_dir: /path/to/models
  temp_dir: /path/to/temp
  cpus: 4
  seed: 1337
  submit: false
  datasets:
    bio_all_reg: /path/to/processed/all/biochemical_regression.parquet
    bio_all_thresholds: /path/to/processed/all/biochemical_thresholds.json

tasks:
  - type: threshold
    job_name: thr_bio_all_min20
    trainval_path: bio_all_reg
    thresholds_json: bio_all_thresholds
    metric_column: target
    target_column: target
    compound_min_screens: 20
    compound_screens_column: screens
    screens_weight_mode: linear
    predict_test: true
    split_seed: 1337
    thresholds:
      - suffix: p50
        lower_percentile: 50
        upper_percentile: 50
      - suffix: p60
        lower_percentile: 50
        upper_percentile: 60
      - suffix: p70
        lower_percentile: 50
        upper_percentile: 70
      - suffix: p80
        lower_percentile: 50
        upper_percentile: 80
      - suffix: p90
        lower_percentile: 50
        upper_percentile: 90
      - suffix: p95
        lower_percentile: 50
        upper_percentile: 95

  - type: threshold
    job_name: thr_bio_all_min50
    trainval_path: bio_all_reg
    thresholds_json: bio_all_thresholds
    metric_column: target
    target_column: target
    compound_min_screens: 50
    compound_screens_column: screens
    screens_weight_mode: linear
    predict_test: true
    split_seed: 1337
    thresholds:
      - suffix: p50
        lower_percentile: 50
        upper_percentile: 50
      - suffix: p60
        lower_percentile: 50
        upper_percentile: 60
      - suffix: p70
        lower_percentile: 50
        upper_percentile: 70
      - suffix: p80
        lower_percentile: 50
        upper_percentile: 80
      - suffix: p90
        lower_percentile: 50
        upper_percentile: 90
      - suffix: p95
        lower_percentile: 50
        upper_percentile: 95
